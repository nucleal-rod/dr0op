(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{24:function(a,e,r){"use strict";var p=r(25),i=r.n(p);e.a=function(a,e){i()("."+a).attr("active","no"),i()("."+a+"."+e).attr("active","yes")}},26:function(a,e,r){"use strict";var p=r(25),i=r.n(p);e.a=function(a,e){e=e||0,a=a||document.documentElement;var r=function(){var a=window.location.href.split("?")[1]||"";if(""==a)return{};var e=a.split("&"),r={};return e.forEach((function(a){var e=a.split("=");r[e[0]]=e[1]})),r}().fixed;if(r){var p=i()("#fixed-"+r);if(p.length>0){var c=p[0].offsetTop-e,o=a.scrollTop||0;i.a.animation((function(e){a.scrollTop=(c-o)*e+o}),500,(function(){a.scrollTop=c}))}}else a.scrollTop=0}},44:function(a,e,r){var p=r(45);"string"==typeof p&&(p=[[a.i,p,""]]),p.locals&&(a.exports=p.locals);(0,r(1).default)("data-quickpaper-b83e9852",p,!0)},45:function(a,e,r){(a.exports=r(0)(!1)).push([a.i,"",""])},64:function(a,e,r){"use strict";r.r(e);var p=r(24),i=r(26),c={created:function(){Object(p.a)("menu-2","tool")},methods:{doScroll:function(a){window.image2d_noRefresh=!0,window.location.href=(window.location.href+"").replace(/\?fixed=.*$/,"")+"?fixed="+a,Object(i.a)()}},mounted:function(){Object(i.a)()}};r(44);c.render=function(a){return a("div",{quickpaper:"","data-quickpaper-b83e9852":""},[a("nav",{class:"api-nav","data-quickpaper-b83e9852":""},[a("h2",{"@click":'doScroll("layer")',"data-quickpaper-b83e9852":""},["位图图层"]),a("h4",{"@click":'doScroll("layer-new")',"data-quickpaper-b83e9852":""},["创建图层管理对象"]),a("h4",{"@click":'doScroll("layer-get")',"data-quickpaper-b83e9852":""},["获取或创建图层"]),a("h4",{"@click":'doScroll("layer-delete")',"data-quickpaper-b83e9852":""},["删除图层"]),a("h4",{"@click":'doScroll("layer-update")',"data-quickpaper-b83e9852":""},["更新图层到画布"]),a("h4",{"@click":'doScroll("layer-hidden")',"data-quickpaper-b83e9852":""},["隐藏图层"]),a("h4",{"@click":'doScroll("layer-show")',"data-quickpaper-b83e9852":""},["显示图层"]),a("h2",{"@click":'doScroll("animation")',"data-quickpaper-b83e9852":""},["动画或定时轮询"]),a("h2",{"@click":'doScroll("colors")',"data-quickpaper-b83e9852":""},["颜色计算相关方法"]),a("h4",{"@click":'doScroll("colors-formatColor")',"data-quickpaper-b83e9852":""},["颜色格式化"]),a("h4",{"@click":'doScroll("colors-getRandomColors")',"data-quickpaper-b83e9852":""},["获取一组随机色"]),a("h4",{"@click":'doScroll("colors-getLoopColors")',"data-quickpaper-b83e9852":""},["获取循环色"]),a("h2",{"@click":'doScroll("ruler")',"data-quickpaper-b83e9852":""},["刻度尺辅助计算"])]),a("div",{class:"api-view api-content-view","data-quickpaper-b83e9852":""},[a("p",{"data-quickpaper-b83e9852":""},["因为绘制的时候，比如canvas2D没有图层，某个数据改变可能就意味着需要全部重新绘制等，基于这些考虑，在这一章，对前面进行必要的补充。"]),a("h2",{id:"fixed-layer","data-quickpaper-b83e9852":""},["位图图层"]),a("p",{id:"fixed-layer-new","data-quickpaper-b83e9852":""},["首先需要明确，图层服务的对象是canvas2D，svg某种意义上天生具有图层，不需要额外设计。让我们首先看看如何获取一个图层对象："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["var layer=imageObject.layer();"]),a("p",{"data-quickpaper-b83e9852":""},["这里的图层可以类比photoshop的图层去理解，我们提供了几个类似的方法来帮助使用图层对象。"]),a("p",{id:"fixed-layer-get","data-quickpaper-b83e9852":""},["图层对象管理着图层，通过传递id可以获取对应图层的画笔，如果该图层不存在会自动创建（这里的画笔就是canvas2D画笔）："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["var painter=layer.painter(id);"]),a("p",{id:"fixed-layer-delete","data-quickpaper-b83e9852":""},["删除指定图层："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["layer.delete(id);"]),a("p",{id:"fixed-layer-update","data-quickpaper-b83e9852":""},["图层中的内容不会显示在画布上，为了显示在画布上，需要手动更新："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["layer.update();"]),a("p",{id:"fixed-layer-hidden","data-quickpaper-b83e9852":""},["隐藏图层："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["layer.hidden(id);"]),a("p",{id:"fixed-layer-show","data-quickpaper-b83e9852":""},["显示图层："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["layer.show(id);"]),a("p",{class:"warn","data-quickpaper-b83e9852":""},["图层的创建越晚离眼睛距离越近。"]),a("h2",{id:"fixed-animation","data-quickpaper-b83e9852":""},["动画或定时轮询"]),a("p",{"data-quickpaper-b83e9852":""},["绘图的时候，为了实现动画效果，你除了可以使用画布或css天然的动画相关属性，还可以使用ES绘制每一帧的方式实现。为了方便你绘制我们提供了下面方法："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["var stop=$$.animation(function(deep){↵    // deep取值0-1，表示动画进度↵}, speeds, function(deep){↵    // deep和上面一样，提供的原因是有时候结束回调是stop方法触发而不是动画结束了↵},timing);"]),a("p",{"data-quickpaper-b83e9852":""},["该方法有四个参数：分别表示画帧方法、动画时长、动画结束回调和进度控制参数（动画时长单位毫秒，最后三个均可选）。"]),a("p",{"data-quickpaper-b83e9852":""},['其中timing可以为字符串或数组，字符串可选参数有："ease"、"ease-in"、"ease-in-out"、"ease-out"和"linear"（默认值），值的意义和css中的属性↵            transition-timing-function 基本一致，数组的话也是和这个属性保持一致，长度为4。']),a("p",{"data-quickpaper-b83e9852":""},["如果你希望动画立刻结束，可以调用下面的方法强行提前停止："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["stop();"]),a("h2",{id:"fixed-colors","data-quickpaper-b83e9852":""},["颜色计算相关方法"]),a("p",{id:"fixed-colors-formatColor","data-quickpaper-b83e9852":""},["给定任意一个合法的css颜色字符串，把颜色统一转变成rgba格式，返回一个数组[r,g,b,a]："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["var rgbaArray=$$.formatColor(colorString);"]),a("p",{id:"fixed-colors-getRandomColors","data-quickpaper-b83e9852":""},["传递需要的颜色个数，返回一组随机色彩："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["// alpha可选，取值是0-1，表示颜色透明度↵var colors=$$.getRandomColors(number, alpha);"]),a("p",{id:"fixed-colors-getLoopColors","data-quickpaper-b83e9852":""},["传递需要的颜色个数，返回一组循环色彩："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["// alpha可选，取值是0-1，表示颜色透明度↵var colors=$$.getLoopColors(number, alpha);"]),a("h2",{id:"fixed-ruler","data-quickpaper-b83e9852":""},["刻度尺辅助计算"]),a("div",{"ui-copy":"","data-quickpaper-b83e9852":""},[a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["// 分别表示最大值，最小值和间隔数↵var rulerData = $$.ruler(maxValue, minValue, number);"]),a("p",{"data-quickpaper-b83e9852":""},["返回的数据格式如下："]),a("pre",{"q-code":"","data-quickpaper-b83e9852":""},["rulerData = {↵    min: number, // 最小值↵    max: number , // 最大值↵    distance: number , // 步进↵    num: number // 间隔数↵    ruler: Array<number> // 刻度数数组↵};"]),a("p",{class:"warn","data-quickpaper-b83e9852":""},["温馨提示：传递的间隔数对于最终计算只是作为一个参考，实际的间隔数以返回的结果为准。"])])])])};e.default=c}}]);